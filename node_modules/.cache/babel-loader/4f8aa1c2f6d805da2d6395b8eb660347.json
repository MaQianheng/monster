{"ast":null,"code":"var _jsxFileName = \"/Users/qianhengma/Documents/GitHub/monsters-rolodex/src/App.js\";\nimport React, { Component } from 'react';\nimport { CardList } from './components/card-list/card-list.components.js'; // import logo from './logo.svg';\n\nimport './App.css';\nimport { SearchBox } from './components/search-box/search-box.components.js';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.hanndleChange = e => {\n      // 第二个参数：前一事件执行完成后 => 回调\n      this.setState({\n        searchField: e.target.value,\n        title: e.target.value\n      }, () => console.log(this.state.searchField));\n    };\n\n    this.state = {\n      monsters: [],\n      searchField: '',\n      title: ''\n    }; // 改变handleChange的this指向\n    // 此处的this指向class App\n    // this.hanndleChange = this.hanndleChange.bind(this);\n  }\n\n  componentDidMount() {\n    // 执行‘fetch('https://jsonplaceholder.typicode.com/users')’后拿到返回值 => [[PromiseValue]]: Response\n    // console.log(fetch('https://jsonplaceholder.typicode.com/users'));\n    // .then(response => console.log(response.json()))\n    // .then(users => console.log(users))\n    fetch('https://jsonplaceholder.typicode.com/users').then(response => response.json()).then(users => this.setState({\n      monsters: users\n    }));\n  } // 箭头函数会改变指向\n\n\n  render() {\n    // const monsters = this.state.monsters\n    // const searchField = this.state.searchField\n    const _this$state = this.state,\n          monsters = _this$state.monsters,\n          searchField = _this$state.searchField;\n    const filteredMonsters = monsters.filter(monster => monster.name.toLowerCase().includes(searchField.toLowerCase()));\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Monsters Rolodex\"), React.createElement(SearchBox, {\n      placeholder: \"search monsters\",\n      hanndleChange: this.hanndleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(CardList, {\n      monsters: filteredMonsters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/qianhengma/Documents/GitHub/monsters-rolodex/src/App.js"],"names":["React","Component","CardList","SearchBox","App","constructor","hanndleChange","e","setState","searchField","target","value","title","console","log","state","monsters","componentDidMount","fetch","then","response","json","users","render","filteredMonsters","filter","monster","name","toLowerCase","includes"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAAQC,QAAR,QAAuB,gDAAvB,C,CACA;;AACA,OAAO,WAAP;AACA,SAAQC,SAAR,QAAwB,kDAAxB;;AAEA,MAAMC,GAAN,SAAkBH,SAAlB,CAA2B;AACzBI,EAAAA,WAAW,GAAE;AACX;;AADW,SAwBbC,aAxBa,GAwBGC,CAAC,IAAI;AACnB;AACA,WAAKC,QAAL,CAAc;AAACC,QAAAA,WAAW,EAACF,CAAC,CAACG,MAAF,CAASC,KAAtB;AAA4BC,QAAAA,KAAK,EAACL,CAAC,CAACG,MAAF,CAASC;AAA3C,OAAd,EAAgE,MACxDE,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWN,WAAvB,CADR;AAED,KA5BY;;AAEX,SAAKM,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAC,EADE;AAEXP,MAAAA,WAAW,EAAC,EAFD;AAGXG,MAAAA,KAAK,EAAC;AAHK,KAAb,CAFW,CAQX;AACA;AACA;AACD;;AAEDK,EAAAA,iBAAiB,GAAE;AACjB;AACA;AACE;AACA;AACFC,IAAAA,KAAK,CAAC,4CAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEMG,KAAK,IAAI,KAAKd,QAAL,CAAc;AAACQ,MAAAA,QAAQ,EAACM;AAAV,KAAd,CAFf;AAGD,GAtBwB,CAwBzB;;;AAOAC,EAAAA,MAAM,GAAE;AACN;AACA;AAFM,wBAGyB,KAAKR,KAH9B;AAAA,UAGCC,QAHD,eAGCA,QAHD;AAAA,UAGUP,WAHV,eAGUA,WAHV;AAIN,UAAMe,gBAAgB,GAAGR,QAAQ,CAACS,MAAT,CAAgBC,OAAO,IAC9CA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCpB,WAAW,CAACmB,WAAZ,EAApC,CADuB,CAAzB;AAGA,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE,oBAAC,SAAD;AACA,MAAA,WAAW,EAAC,iBADZ;AAEA,MAAA,aAAa,EAAE,KAAKtB,aAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAME,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAEkB,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAUD;;AAhDwB;;AAoD3B,eAAepB,GAAf","sourcesContent":["import React,{Component} from 'react';\nimport {CardList} from './components/card-list/card-list.components.js'\n// import logo from './logo.svg';\nimport './App.css';\nimport {SearchBox} from './components/search-box/search-box.components.js'\n\nclass App extends Component{\n  constructor(){\n    super();\n    this.state = {\n      monsters:[],\n      searchField:'',\n      title:''\n    };\n\n    // 改变handleChange的this指向\n    // 此处的this指向class App\n    // this.hanndleChange = this.hanndleChange.bind(this);\n  }\n\n  componentDidMount(){\n    // 执行‘fetch('https://jsonplaceholder.typicode.com/users')’后拿到返回值 => [[PromiseValue]]: Response\n    // console.log(fetch('https://jsonplaceholder.typicode.com/users'));\n      // .then(response => console.log(response.json()))\n      // .then(users => console.log(users))\n    fetch('https://jsonplaceholder.typicode.com/users')\n    .then(response => response.json())\n    .then(users => this.setState({monsters:users}));\n  }\n\n  // 箭头函数会改变指向\n  hanndleChange = e => {\n    // 第二个参数：前一事件执行完成后 => 回调\n    this.setState({searchField:e.target.value,title:e.target.value},() =>\n            console.log(this.state.searchField))\n  }\n\n  render(){\n    // const monsters = this.state.monsters\n    // const searchField = this.state.searchField\n    const {monsters,searchField} = this.state;\n    const filteredMonsters = monsters.filter(monster => \n      monster.name.toLowerCase().includes(searchField.toLowerCase())\n      )\n    return (\n      <div className=\"App\">\n        <h1>Monsters Rolodex</h1>\n        <SearchBox \n        placeholder='search monsters'\n        hanndleChange={this.hanndleChange}\n        />\n        <CardList monsters={filteredMonsters} />\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}